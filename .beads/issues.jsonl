{"id":"infra-19z","title":"Test GitHub Actions job summary","description":"Push to main and verify: 1) Workflow triggers 2) Job summary contains deployment links 3) Links are clickable in GitHub UI","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T19:17:17.80951-05:00","created_by":"coneill","updated_at":"2026-01-03T19:19:04.690856-05:00","closed_at":"2026-01-03T19:19:04.690856-05:00","close_reason":"Merged into infra-oty.4","dependencies":[{"issue_id":"infra-19z","depends_on_id":"infra-25p","type":"blocks","created_at":"2026-01-03T19:17:23.920093-05:00","created_by":"coneill"}]}
{"id":"infra-1ff","title":"Configure beads for infra repo","description":"Set up beads properly for infra repo with amend-friendly workflow. Address bd doctor warnings: hooks, sync config, untracked files, merge artifacts, duplicates","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-03T19:23:13.710598-05:00","created_by":"coneill","updated_at":"2026-01-04T00:53:55.794377-05:00","closed_at":"2026-01-04T00:53:55.794377-05:00","close_reason":"Closed"}
{"id":"infra-25p","title":"Test semaphore-deploy summary output locally","description":"Run semaphore-deploy manually and verify summary output:\n\n1. **Single attempt (success):** Run `./scripts/semaphore-deploy --hosts k1 --project Infra --template ansible-deploy`\n   - Verify summary prints to console\n   - Verify format shows direct links: `**Semaphore:** [URL]` and `**ARA:** [URL]`\n\n2. **Multiple attempts:** Force retry scenario (use flaky host or --max-attempts with intentional failure)\n   - Verify list format with status indicators (✅/❌)\n   - Verify each attempt shows its Semaphore and ARA URLs\n\nBlocks: infra-oty.4 (end-to-end test)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T19:17:17.267124-05:00","created_by":"coneill","updated_at":"2026-01-04T11:35:37.014657-05:00","closed_at":"2026-01-04T11:35:37.014657-05:00","close_reason":"Testing completed; downstream tasks infra-19z and infra-oty.4 closed","comments":[{"id":2,"issue_id":"infra-25p","author":"coneill","text":"Semaphore environment missing ARA config - needs ARA_API_SERVER, ARA_API_USERNAME, ARA_API_PASSWORD in opentofu/modules/semaphore/main.tf environment resource","created_at":"2026-01-04T06:04:41Z"}]}
{"id":"infra-59z","title":"Create separate PR for ARA callback plugin","description":"Create focused PR with just ansible/callback_plugins/ara_url.py. Branch from main, copy plugin from semaphore-auto-deploy branch, push and merge.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T01:17:29.29643-05:00","created_by":"coneill","updated_at":"2026-01-04T02:06:54.889703-05:00","closed_at":"2026-01-04T02:06:54.889703-05:00","close_reason":"PR #1049 merged - ARA callback plugin added to main","dependencies":[{"issue_id":"infra-59z","depends_on_id":"infra-6cq","type":"parent-child","created_at":"2026-01-04T01:18:11.996248-05:00","created_by":"coneill"}],"comments":[{"id":4,"issue_id":"infra-59z","author":"coneill","text":"PR: https://github.com/claytono/infra/pull/1049","created_at":"2026-01-04T06:26:02Z"}]}
{"id":"infra-6cq","title":"Enable ARA URL Reporting in Semaphore","description":"Deploy callback plugin to enable ARA URL reporting. Infrastructure already exists, just need to merge callback plugin.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-04T01:17:23.425578-05:00","created_by":"coneill","updated_at":"2026-01-04T02:06:55.132645-05:00","closed_at":"2026-01-04T02:06:55.132645-05:00","close_reason":"ARA URL reporting enabled - callback plugin merged to main"}
{"id":"infra-nfp","title":"Test ARA URL via semaphore-deploy after merge","description":"Run ./scripts/semaphore-deploy --hosts k1 --project Infra --template ansible-deploy --tags hostname and verify ARA URL appears in output.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T01:17:35.252344-05:00","created_by":"coneill","updated_at":"2026-01-04T02:06:54.943935-05:00","closed_at":"2026-01-04T02:06:54.943935-05:00","close_reason":"PR merged, callback tested locally with play UUID approach","dependencies":[{"issue_id":"infra-nfp","depends_on_id":"infra-59z","type":"blocks","created_at":"2026-01-04T01:17:38.599763-05:00","created_by":"coneill"},{"issue_id":"infra-nfp","depends_on_id":"infra-6cq","type":"parent-child","created_at":"2026-01-04T01:18:12.053259-05:00","created_by":"coneill"}]}
{"id":"infra-oty","title":"Semaphore Auto-Deploy for Ansible Implementation Plan","description":"Automatically deploy Ansible changes via Semaphore when merged to main, mirroring the ArgoCD pattern.\n\n## Branch\n`semaphore-auto-deploy`\n\n## Architecture\nPush to main (ansible/**) → GitHub Actions → ansible-detect-changes → semaphore-deploy → Semaphore API → Ansible runs\n\n## Smart Detection Logic\n- `host_vars/\u003chostname\u003e.yaml` changed → run against that hostname\n- Everything else (roles, group_vars, site.yaml, etc.) → run against all hosts\n\n## Files Created/Modified\n- `opentofu/modules/semaphore/` - OpenTofu module (versions.tf, main.tf, outputs.tf, variables.tf)\n- `opentofu/main.tf`, `opentofu/secrets.tf` - Root module integration\n- `opentofu/github-repos.tf` - GitHub Actions secrets/variables\n- `scripts/ansible-detect-changes` - Change detection script\n- `scripts/semaphore-deploy` - Deploy script (Python, streams logs, retries)\n- `.github/actions/setup-semaphore/action.yml` - Setup composite action\n- `.github/workflows/ansible-production-deploy.yml` - Deploy workflow\n- `ansible/callback_plugins/ara_url.py` - ARA URL callback plugin\n- `ansible/site.yaml` - Remove old ARA Reporting plays (replaced by callback)\n\n## Semaphore Resource IDs (Project 2)\n- Project: 2, Keys: none=3, ansible_ssh=5\n- Repository: 2, Inventory: 6, Environment: 2, Template: 9\n\n## Provider Schema Notes\nsemaphoreui provider uses different schema than docs:\n- Keys: `none = {}` or `ssh = { private_key = \"...\" }` (not `type = \"none\"`)\n- Inventory: `file = { path = \"...\", repository_id = ... }` (not `type = \"file\"`)\n- Environment: `environment = {}` (not `env = jsonencode({})`)\n\n## Completed Work\nTasks 1-15 completed: API token, OpenTofu module, GitHub secrets, detection script, deploy script, log tailing, setup action, deploy workflow, template rename, ARA callback plugin, end-to-end testing\n\n## Remaining\n- Merge semaphore-auto-deploy branch to main\n- Redeploy Semaphore to pick up site.yaml changes (removal of old ARA plays)","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-03T18:28:10.735568-05:00","created_by":"coneill","updated_at":"2026-01-04T02:21:47.222926-05:00","comments":[{"id":1,"issue_id":"infra-oty","author":"coneill","text":"Implementation plan: ~/.claude/plans/crispy-sparking-gosling.md","created_at":"2026-01-04T05:56:46Z"}]}
{"id":"infra-oty.1","title":"Add Log Tailing to semaphore-deploy","description":"Add real-time log streaming to semaphore-deploy script.\n\n## Problem\nWhen Semaphore tasks fail, we couldn't see why - the script only reported status without showing task output.\n\n## Solution\nStream task output logs while polling for completion.\n\n## Implementation\n- File: `scripts/semaphore-deploy`\n- API endpoint: `GET /api/project/{project_id}/tasks/{task_id}/output`\n- Returns array of output lines: `[{\"time\": \"...\", \"output\": \"line1\"}, ...]`\n\n## How It Works\n1. Track last output line position\n2. Each poll iteration:\n   - Fetch task output via API\n   - Print only new lines since last position\n   - Update position\n3. Output appears in real-time as task runs\n\n## Example Output\n```\nWaiting for task 105 to complete...\n  Task 105 status: running\n  \u003e PLAY [all] *********************************************************************\n  \u003e TASK [Gathering Facts] *********************************************************\n  \u003e ok: [k1]\n  \u003e ...\n  Task 105 status: success\n```\n\n## Status\nCompleted - implemented in scripts/semaphore-deploy on semaphore-auto-deploy branch","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T18:28:16.285017-05:00","created_by":"coneill","updated_at":"2026-01-04T11:13:53.458574-05:00","closed_at":"2026-01-03T18:29:35.979229-05:00","close_reason":"Already completed - log tailing implemented","dependencies":[{"issue_id":"infra-oty.1","depends_on_id":"infra-oty","type":"parent-child","created_at":"2026-01-03T18:28:16.295731-05:00","created_by":"coneill"}]}
{"id":"infra-oty.2","title":"Create ARA URL Callback Plugin","description":"Create callback plugin to print ARA URL at end of every playbook run, regardless of success/failure.\n\n## Why a Callback Plugin?\nThe old approach (ARA Reporting plays in site.yaml) doesn't run if the playbook fails mid-execution. A callback plugin's `v2_playbook_on_stats` hook fires regardless of success/failure.\n\n## Implementation\n- File: `ansible/callback_plugins/ara_url.py`\n- Hook: `v2_playbook_on_stats` - runs at end of playbook\n- Merged to main: PR #1049\n\n## Key Technical Details\n- Uses `AraHttpClient` from `ara.clients.http`\n- Queries `/api/v1/playbooks?order=-id\u0026limit=1` for latest playbook\n- Gracefully handles missing ARA_API_SERVER (skips silently)\n- Auto-enabled via `CALLBACK_NEEDS_ENABLED = False`\n\n## Environment Variables Required\n- `ARA_API_SERVER` - ARA API endpoint (e.g., https://ara.k.oneill.net)\n- `ARA_API_USERNAME` - API auth username\n- `ARA_API_PASSWORD` - API auth password\n- `ARA_API_TIMEOUT` - Request timeout (default 30)\n\n## Related Files\n- `ansible/ansible.cfg` - Added `callback_plugins = callback_plugins`\n- `kubernetes/semaphore/ansible-wrapper.sh` - Sets ARA env vars for Semaphore\n- `ansible/site.yaml` - Old ARA plays need removal (infra-oty.2.5)\n\n## Status\nCallback plugin merged (PR #1049). Still need to remove old ARA plays from site.yaml.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-03T18:28:22.283534-05:00","created_by":"coneill","updated_at":"2026-01-04T11:13:34.602858-05:00","dependencies":[{"issue_id":"infra-oty.2","depends_on_id":"infra-oty","type":"parent-child","created_at":"2026-01-03T18:28:22.295448-05:00","created_by":"coneill"},{"issue_id":"infra-oty.2","depends_on_id":"infra-oty.1","type":"blocks","created_at":"2026-01-03T18:28:22.296808-05:00","created_by":"coneill"}]}
{"id":"infra-oty.2.1","title":"Create Callback Plugin","description":"Create ansible/callback_plugins/ara_url.py","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T18:43:53.747944-05:00","created_by":"coneill","updated_at":"2026-01-03T18:47:59.563695-05:00","closed_at":"2026-01-03T18:47:59.563695-05:00","close_reason":"Closed","dependencies":[{"issue_id":"infra-oty.2.1","depends_on_id":"infra-oty.2","type":"parent-child","created_at":"2026-01-03T18:43:53.763981-05:00","created_by":"coneill"}]}
{"id":"infra-oty.2.2","title":"Configure ansible.cfg","description":"Add callback_plugins path","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T18:44:00.823514-05:00","created_by":"coneill","updated_at":"2026-01-03T18:48:36.891073-05:00","closed_at":"2026-01-03T18:48:36.891073-05:00","close_reason":"Closed","dependencies":[{"issue_id":"infra-oty.2.2","depends_on_id":"infra-oty.2","type":"parent-child","created_at":"2026-01-03T18:44:00.842603-05:00","created_by":"coneill"},{"issue_id":"infra-oty.2.2","depends_on_id":"infra-oty.2.1","type":"blocks","created_at":"2026-01-03T18:44:00.846584-05:00","created_by":"coneill"}]}
{"id":"infra-oty.2.3","title":"Update ansible-wrapper.sh","description":"Include custom callback path for Semaphore","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T18:44:06.209566-05:00","created_by":"coneill","updated_at":"2026-01-03T18:44:36.986503-05:00","closed_at":"2026-01-03T18:44:36.986503-05:00","close_reason":"wontfix","dependencies":[{"issue_id":"infra-oty.2.3","depends_on_id":"infra-oty.2","type":"parent-child","created_at":"2026-01-03T18:44:06.218582-05:00","created_by":"coneill"}]}
{"id":"infra-oty.2.4","title":"Update ansible-wrapper.sh","description":"Include custom callback path for Semaphore","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T18:44:09.920609-05:00","created_by":"coneill","updated_at":"2026-01-03T18:49:12.865965-05:00","closed_at":"2026-01-03T18:49:12.865965-05:00","close_reason":"Closed","dependencies":[{"issue_id":"infra-oty.2.4","depends_on_id":"infra-oty.2","type":"parent-child","created_at":"2026-01-03T18:44:09.931049-05:00","created_by":"coneill"},{"issue_id":"infra-oty.2.4","depends_on_id":"infra-oty.2.2","type":"blocks","created_at":"2026-01-03T18:44:09.936214-05:00","created_by":"coneill"}]}
{"id":"infra-oty.2.5","title":"Remove ARA Reporting Plays from site.yaml","description":"Remove the obsolete ARA Reporting play from site.yaml. This should have been in PR #1049 with the callback plugin but was missed.\n\n## Why This Is Needed\nThe callback plugin (ansible/callback_plugins/ara_url.py) was merged to main in PR #1049, but the OLD ARA Reporting play (lines 234-280 on main) was not removed. This play runs a Python shell task to query ARA, which fails in Semaphore:\n\n```\nTASK [Get current playbook ID from ARA] ****************************************\n[ERROR]: Task failed: Module failed: non-zero return code\n```\n\nThe callback plugin handles this properly via v2_playbook_on_stats, making the old play unnecessary.\n\n## The Old Play (lines 234-280 on main)\n```yaml\n- name: ARA Reporting\n  hosts: all\n  gather_facts: false\n  tasks:\n    - name: Get current playbook ID from ARA\n      ansible.builtin.shell: |\n        python3 -c \"from ara.clients.http import AraHttpClient; ...\"\n```\n\n## Fix\nDelete the entire \"ARA Reporting\" play section (lines 234-280 in ansible/site.yaml on main).\n\n## Steps\n```bash\ngit fetch origin\ngit checkout -b remove-ara-plays origin/main\n# Edit ansible/site.yaml to remove lines 234-280\ngit add ansible/site.yaml\ngit commit -m \"Remove obsolete ARA Reporting play from site.yaml\n\nThe ara_url callback plugin (added in PR #1049) handles ARA URL\nreporting via v2_playbook_on_stats. The old shell-based approach\nfails in Semaphore due to missing Python environment.\"\ngit push -u origin remove-ara-plays\ngh pr create --fill\n```\n\n## Verification\nAfter merge and Semaphore pod redeploy:\n- No \"TASK [Get current playbook ID from ARA]\" error\n- \"ARA Playbook URL: ...\" appears from callback plugin","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-03T18:44:15.542011-05:00","created_by":"coneill","updated_at":"2026-01-04T11:38:30.677037-05:00","dependencies":[{"issue_id":"infra-oty.2.5","depends_on_id":"infra-oty.2","type":"parent-child","created_at":"2026-01-03T18:44:15.550305-05:00","created_by":"coneill"},{"issue_id":"infra-oty.2.5","depends_on_id":"infra-oty.2.4","type":"blocks","created_at":"2026-01-03T18:44:15.554965-05:00","created_by":"coneill"}]}
{"id":"infra-oty.2.6","title":"Test Locally","description":"Verify URL prints at end","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T18:44:21.135593-05:00","created_by":"coneill","updated_at":"2026-01-04T02:06:55.063088-05:00","closed_at":"2026-01-04T02:06:55.063088-05:00","close_reason":"Tested locally - callback plugin works correctly","dependencies":[{"issue_id":"infra-oty.2.6","depends_on_id":"infra-oty.2","type":"parent-child","created_at":"2026-01-03T18:44:21.14617-05:00","created_by":"coneill"},{"issue_id":"infra-oty.2.6","depends_on_id":"infra-oty.2.5","type":"blocks","created_at":"2026-01-03T18:44:21.150476-05:00","created_by":"coneill"}],"comments":[{"id":3,"issue_id":"infra-oty.2.6","author":"coneill","text":"Verified locally - callback prints ARA URL at start and end. Works when ARA_API_SERVER is set in environment.","created_at":"2026-01-04T06:07:45Z"}]}
{"id":"infra-oty.3","title":"Add Links to GitHub Actions Summary","description":"Add deployment summary with links to semaphore-deploy output.\n\n## Goal\nProvide easy access to Semaphore task and ARA playbook URLs after deployment.\n\n## Implementation\n- File: `scripts/semaphore-deploy`\n- Outputs to both console AND GitHub Actions job summary when `$GITHUB_STEP_SUMMARY` is set\n\n## Output Format\n```\n================================================================================\nDeployment Summary\n================================================================================\nSemaphore Task: https://semaphore.k.oneill.net/project/2/templates/9/tasks/123\nARA Playbook:   https://ara.k.oneill.net/playbooks/456.html\nStatus:         SUCCESS\nDuration:       2m 34s\n================================================================================\n```\n\n## GitHub Actions Integration\nWhen running in GitHub Actions, the summary is also written to `$GITHUB_STEP_SUMMARY` for display in the job summary page.\n\n## Status\nCompleted - implemented in scripts/semaphore-deploy on semaphore-auto-deploy branch","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T18:28:27.451892-05:00","created_by":"coneill","updated_at":"2026-01-04T11:13:54.487081-05:00","closed_at":"2026-01-03T19:16:30.809273-05:00","close_reason":"Closed","dependencies":[{"issue_id":"infra-oty.3","depends_on_id":"infra-oty","type":"parent-child","created_at":"2026-01-03T18:28:27.454591-05:00","created_by":"coneill"},{"issue_id":"infra-oty.3","depends_on_id":"infra-oty.2","type":"blocks","created_at":"2026-01-03T18:28:27.456294-05:00","created_by":"coneill"}]}
{"id":"infra-oty.4","title":"Test End-to-End","description":"Full end-to-end test of Semaphore auto-deploy:\n\n1. Create test branch with minor ansible change (e.g., comment in host_vars/k1.yaml)\n2. Push and merge to main\n3. Verify GitHub Actions workflow triggers\n4. Verify Semaphore task is created and runs\n5. Check ARA for playbook execution record\n6. Verify GitHub Actions job summary shows Semaphore and ARA links\n7. Test workflow_dispatch manual trigger with hosts=\"all\"\n8. Test workflow_dispatch with specific hosts and tags","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T18:28:33.126247-05:00","created_by":"coneill","updated_at":"2026-01-04T02:15:47.466672-05:00","closed_at":"2026-01-04T02:15:47.466672-05:00","close_reason":"End-to-end test successful - ARA URL appears in semaphore-deploy output","dependencies":[{"issue_id":"infra-oty.4","depends_on_id":"infra-oty","type":"parent-child","created_at":"2026-01-03T18:28:33.137812-05:00","created_by":"coneill"},{"issue_id":"infra-oty.4","depends_on_id":"infra-oty.3","type":"blocks","created_at":"2026-01-03T18:28:33.139202-05:00","created_by":"coneill"},{"issue_id":"infra-oty.4","depends_on_id":"infra-25p","type":"blocks","created_at":"2026-01-03T19:19:04.793326-05:00","created_by":"coneill"},{"issue_id":"infra-oty.4","depends_on_id":"infra-ziy","type":"blocks","created_at":"2026-01-04T01:04:54.556956-05:00","created_by":"coneill"}]}
{"id":"infra-oty.5","title":"Remove old ARA Reporting plays from site.yaml","description":"Remove the obsolete ARA Reporting play from site.yaml (lines 234-280 on main).\n\n## Why\nThe callback plugin (ansible/callback_plugins/ara_url.py, already on main via PR #1049) replaces this functionality. The old play runs a Python shell task that fails in Semaphore because it doesn't have the right Python environment.\n\n## The Problem\nThe old play executes Python code inline via ansible.builtin.shell:\n```yaml\n- name: Get current playbook ID from ARA\n  ansible.builtin.shell: |\n    python3 -c \"from ara.clients.http import AraHttpClient; ...\"\n```\nThis fails in Semaphore with \"non-zero return code\" because Semaphore's environment doesn't have ara installed.\n\n## The Fix\nDelete lines 234-280 from ansible/site.yaml (the entire \"ARA Reporting\" play section).\n\n## How to Create PR\n```bash\ngit fetch origin\ngit checkout -b remove-ara-plays origin/main\n# Remove the play (lines 234-280)\ngit add ansible/site.yaml\ngit commit -m \"Remove old ARA Reporting plays from site.yaml\n\nThe callback plugin (ara_url.py) now handles ARA URL reporting via\nv2_playbook_on_stats, which runs reliably at end of playbook regardless\nof success/failure.\"\ngit push -u origin remove-ara-plays\ngh pr create --fill\n```\n\n## Verification\nAfter merge and Semaphore redeploy, test via semaphore-deploy (on semaphore-auto-deploy branch):\n- Should NOT show \"TASK [Get current playbook ID from ARA]\" error\n- Should show \"ARA Playbook URL: https://ara.k.oneill.net/playbooks/\u003cid\u003e.html\"","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-04T02:23:58.014112-05:00","created_by":"coneill","updated_at":"2026-01-04T02:25:24.868341-05:00","deleted_at":"2026-01-04T02:25:24.868341-05:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"infra-oty.6","title":"Merge semaphore-auto-deploy branch to main","description":"Merge the semaphore-auto-deploy branch to main to complete the Semaphore Auto-Deploy epic.\n\n## Prerequisites\n- infra-oty.2.5 must be merged first (removes old ARA plays from site.yaml)\n- Rebase semaphore-auto-deploy on main after infra-oty.2.5 is merged\n\n## Branch Contents\n- OpenTofu Semaphore module (`opentofu/modules/semaphore/`)\n- GitHub Actions workflow + setup action\n- Deploy scripts (`scripts/semaphore-deploy`, `scripts/ansible-detect-changes`)\n\n## Key Files\n```\n.github/actions/setup-semaphore/action.yml  # Tailscale + connectivity check\n.github/workflows/ansible-production-deploy.yml  # Main workflow\nopentofu/modules/semaphore/main.tf  # Semaphore resources\nopentofu/modules/semaphore/variables.tf  # SSH key variable\nopentofu/github-repos.tf  # GitHub secrets/variables\nscripts/semaphore-deploy  # Python deploy with log tailing\nscripts/ansible-detect-changes  # Bash change detection\n```\n\n## Merge Steps\n1. After infra-oty.2.5 merged:\n   ```bash\n   git fetch origin\n   git checkout semaphore-auto-deploy\n   git rebase origin/main\n   # Resolve any conflicts (site.yaml should auto-resolve)\n   ```\n2. Create PR: `gh pr create --fill`\n3. Wait for CI\n4. Merge: `gh pr merge --merge`\n\n## Post-Merge\n1. Redeploy Semaphore: `kubectl rollout restart deployment/semaphore -n semaphore`\n2. Test: `./scripts/semaphore-deploy --hosts k1 --project Infra --template ansible-deploy --tags hostname`\n3. Verify ARA URL appears, no errors","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T02:24:16.683589-05:00","created_by":"coneill","updated_at":"2026-01-04T11:12:48.494219-05:00","dependencies":[{"issue_id":"infra-oty.6","depends_on_id":"infra-oty","type":"parent-child","created_at":"2026-01-04T02:24:16.693707-05:00","created_by":"coneill"},{"issue_id":"infra-oty.6","depends_on_id":"infra-oty.2.5","type":"blocks","created_at":"2026-01-04T11:12:47.481088-05:00","created_by":"coneill"}]}
{"id":"infra-ziy","title":"Add ARA environment variables to Semaphore","description":"Add ARA_API_SERVER, ARA_API_USERNAME, ARA_API_PASSWORD to Semaphore environment in opentofu/modules/semaphore/main.tf. Required for ARA callback plugin to report playbook URLs.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T01:04:41.984767-05:00","created_by":"coneill","updated_at":"2026-01-04T02:06:54.996774-05:00","closed_at":"2026-01-04T02:06:54.996774-05:00","close_reason":"Obsolete - ARA env vars already configured via externalsecret-ara.yaml and ansible-wrapper.sh"}
