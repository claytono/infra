{"id":"infra-19z","title":"Test GitHub Actions job summary","description":"Push to main and verify: 1) Workflow triggers 2) Job summary contains deployment links 3) Links are clickable in GitHub UI","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T19:17:17.80951-05:00","created_by":"coneill","updated_at":"2026-01-03T19:19:04.690856-05:00","closed_at":"2026-01-03T19:19:04.690856-05:00","close_reason":"Merged into infra-oty.4","dependencies":[{"issue_id":"infra-19z","depends_on_id":"infra-25p","type":"blocks","created_at":"2026-01-03T19:17:23.920093-05:00","created_by":"coneill"}]}
{"id":"infra-1ff","title":"Configure beads for infra repo","description":"Set up beads properly for infra repo with amend-friendly workflow. Address bd doctor warnings: hooks, sync config, untracked files, merge artifacts, duplicates","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-03T19:23:13.710598-05:00","created_by":"coneill","updated_at":"2026-01-04T00:53:55.794377-05:00","closed_at":"2026-01-04T00:53:55.794377-05:00","close_reason":"Closed"}
{"id":"infra-25p","title":"Test semaphore-deploy summary output locally","description":"Run semaphore-deploy manually and verify summary output:\n\n1. **Single attempt (success):** Run `./scripts/semaphore-deploy --hosts k1 --project Infra --template ansible-deploy`\n   - Verify summary prints to console\n   - Verify format shows direct links: `**Semaphore:** [URL]` and `**ARA:** [URL]`\n\n2. **Multiple attempts:** Force retry scenario (use flaky host or --max-attempts with intentional failure)\n   - Verify list format with status indicators (✅/❌)\n   - Verify each attempt shows its Semaphore and ARA URLs\n\nBlocks: infra-oty.4 (end-to-end test)","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-03T19:17:17.267124-05:00","created_by":"coneill","updated_at":"2026-01-04T00:57:25.738218-05:00","comments":[{"id":2,"issue_id":"infra-25p","author":"coneill","text":"Semaphore environment missing ARA config - needs ARA_API_SERVER, ARA_API_USERNAME, ARA_API_PASSWORD in opentofu/modules/semaphore/main.tf environment resource","created_at":"2026-01-04T06:04:41Z"}]}
{"id":"infra-59z","title":"Create separate PR for ARA callback plugin","description":"Create focused PR with just ansible/callback_plugins/ara_url.py. Branch from main, copy plugin from semaphore-auto-deploy branch, push and merge.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-04T01:17:29.29643-05:00","created_by":"coneill","updated_at":"2026-01-04T01:18:44.380034-05:00","dependencies":[{"issue_id":"infra-59z","depends_on_id":"infra-6cq","type":"parent-child","created_at":"2026-01-04T01:18:11.996248-05:00","created_by":"coneill"}],"comments":[{"id":4,"issue_id":"infra-59z","author":"coneill","text":"PR: https://github.com/claytono/infra/pull/1049","created_at":"2026-01-04T06:26:02Z"}]}
{"id":"infra-6cq","title":"Enable ARA URL Reporting in Semaphore","description":"Deploy callback plugin to enable ARA URL reporting. Infrastructure already exists, just need to merge callback plugin.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-04T01:17:23.425578-05:00","created_by":"coneill","updated_at":"2026-01-04T01:17:23.425578-05:00"}
{"id":"infra-nfp","title":"Test ARA URL via semaphore-deploy after merge","description":"Run ./scripts/semaphore-deploy --hosts k1 --project Infra --template ansible-deploy --tags hostname and verify ARA URL appears in output.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T01:17:35.252344-05:00","created_by":"coneill","updated_at":"2026-01-04T01:17:35.252344-05:00","dependencies":[{"issue_id":"infra-nfp","depends_on_id":"infra-59z","type":"blocks","created_at":"2026-01-04T01:17:38.599763-05:00","created_by":"coneill"},{"issue_id":"infra-nfp","depends_on_id":"infra-6cq","type":"parent-child","created_at":"2026-01-04T01:18:12.053259-05:00","created_by":"coneill"}]}
{"id":"infra-oty","title":"Semaphore Auto-Deploy for Ansible Implementation Plan","description":"Automatically deploy Ansible changes via Semaphore when merged to main. Branch: semaphore-auto-deploy","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-03T18:28:10.735568-05:00","created_by":"coneill","updated_at":"2026-01-03T18:28:10.735568-05:00","comments":[{"id":1,"issue_id":"infra-oty","author":"coneill","text":"Implementation plan: ~/.claude/plans/crispy-sparking-gosling.md","created_at":"2026-01-04T05:56:46Z"}]}
{"id":"infra-oty.1","title":"Add Log Tailing to semaphore-deploy","description":"Task 11.5: Stream task output logs while polling for completion","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T18:28:16.285017-05:00","created_by":"coneill","updated_at":"2026-01-03T18:29:35.979229-05:00","closed_at":"2026-01-03T18:29:35.979229-05:00","close_reason":"Already completed - log tailing implemented","dependencies":[{"issue_id":"infra-oty.1","depends_on_id":"infra-oty","type":"parent-child","created_at":"2026-01-03T18:28:16.295731-05:00","created_by":"coneill"}]}
{"id":"infra-oty.2","title":"Create ARA URL Callback Plugin","description":"Task 13.5: Create callback plugin for guaranteed ARA URL printing regardless of success/failure","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T18:28:22.283534-05:00","created_by":"coneill","updated_at":"2026-01-03T19:03:49.8279-05:00","closed_at":"2026-01-03T19:03:49.8279-05:00","close_reason":"Closed","dependencies":[{"issue_id":"infra-oty.2","depends_on_id":"infra-oty","type":"parent-child","created_at":"2026-01-03T18:28:22.295448-05:00","created_by":"coneill"},{"issue_id":"infra-oty.2","depends_on_id":"infra-oty.1","type":"blocks","created_at":"2026-01-03T18:28:22.296808-05:00","created_by":"coneill"}]}
{"id":"infra-oty.2.1","title":"Create Callback Plugin","description":"Create ansible/callback_plugins/ara_url.py","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T18:43:53.747944-05:00","created_by":"coneill","updated_at":"2026-01-03T18:47:59.563695-05:00","closed_at":"2026-01-03T18:47:59.563695-05:00","close_reason":"Closed","dependencies":[{"issue_id":"infra-oty.2.1","depends_on_id":"infra-oty.2","type":"parent-child","created_at":"2026-01-03T18:43:53.763981-05:00","created_by":"coneill"}]}
{"id":"infra-oty.2.2","title":"Configure ansible.cfg","description":"Add callback_plugins path","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T18:44:00.823514-05:00","created_by":"coneill","updated_at":"2026-01-03T18:48:36.891073-05:00","closed_at":"2026-01-03T18:48:36.891073-05:00","close_reason":"Closed","dependencies":[{"issue_id":"infra-oty.2.2","depends_on_id":"infra-oty.2","type":"parent-child","created_at":"2026-01-03T18:44:00.842603-05:00","created_by":"coneill"},{"issue_id":"infra-oty.2.2","depends_on_id":"infra-oty.2.1","type":"blocks","created_at":"2026-01-03T18:44:00.846584-05:00","created_by":"coneill"}]}
{"id":"infra-oty.2.3","title":"Update ansible-wrapper.sh","description":"Include custom callback path for Semaphore","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T18:44:06.209566-05:00","created_by":"coneill","updated_at":"2026-01-03T18:44:36.986503-05:00","closed_at":"2026-01-03T18:44:36.986503-05:00","close_reason":"wontfix","dependencies":[{"issue_id":"infra-oty.2.3","depends_on_id":"infra-oty.2","type":"parent-child","created_at":"2026-01-03T18:44:06.218582-05:00","created_by":"coneill"}]}
{"id":"infra-oty.2.4","title":"Update ansible-wrapper.sh","description":"Include custom callback path for Semaphore","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T18:44:09.920609-05:00","created_by":"coneill","updated_at":"2026-01-03T18:49:12.865965-05:00","closed_at":"2026-01-03T18:49:12.865965-05:00","close_reason":"Closed","dependencies":[{"issue_id":"infra-oty.2.4","depends_on_id":"infra-oty.2","type":"parent-child","created_at":"2026-01-03T18:44:09.931049-05:00","created_by":"coneill"},{"issue_id":"infra-oty.2.4","depends_on_id":"infra-oty.2.2","type":"blocks","created_at":"2026-01-03T18:44:09.936214-05:00","created_by":"coneill"}]}
{"id":"infra-oty.2.5","title":"Remove ARA Reporting Plays from site.yaml","description":"Remove lines 1-57 and 289-305","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T18:44:15.542011-05:00","created_by":"coneill","updated_at":"2026-01-03T19:03:17.724042-05:00","closed_at":"2026-01-03T19:03:17.724042-05:00","close_reason":"Closed","dependencies":[{"issue_id":"infra-oty.2.5","depends_on_id":"infra-oty.2","type":"parent-child","created_at":"2026-01-03T18:44:15.550305-05:00","created_by":"coneill"},{"issue_id":"infra-oty.2.5","depends_on_id":"infra-oty.2.4","type":"blocks","created_at":"2026-01-03T18:44:15.554965-05:00","created_by":"coneill"}]}
{"id":"infra-oty.2.6","title":"Test Locally","description":"Verify URL prints at end","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-03T18:44:21.135593-05:00","created_by":"coneill","updated_at":"2026-01-04T01:08:09.749345-05:00","dependencies":[{"issue_id":"infra-oty.2.6","depends_on_id":"infra-oty.2","type":"parent-child","created_at":"2026-01-03T18:44:21.14617-05:00","created_by":"coneill"},{"issue_id":"infra-oty.2.6","depends_on_id":"infra-oty.2.5","type":"blocks","created_at":"2026-01-03T18:44:21.150476-05:00","created_by":"coneill"}],"comments":[{"id":3,"issue_id":"infra-oty.2.6","author":"coneill","text":"Verified locally - callback prints ARA URL at start and end. Works when ARA_API_SERVER is set in environment.","created_at":"2026-01-04T06:07:45Z"}]}
{"id":"infra-oty.3","title":"Add Links to GitHub Actions Summary","description":"Add deployment summary with links to semaphore-deploy, output to both console and GitHub Actions job summary when available","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T18:28:27.451892-05:00","created_by":"coneill","updated_at":"2026-01-03T19:16:30.809273-05:00","closed_at":"2026-01-03T19:16:30.809273-05:00","close_reason":"Closed","dependencies":[{"issue_id":"infra-oty.3","depends_on_id":"infra-oty","type":"parent-child","created_at":"2026-01-03T18:28:27.454591-05:00","created_by":"coneill"},{"issue_id":"infra-oty.3","depends_on_id":"infra-oty.2","type":"blocks","created_at":"2026-01-03T18:28:27.456294-05:00","created_by":"coneill"}]}
{"id":"infra-oty.4","title":"Test End-to-End","description":"Full end-to-end test of Semaphore auto-deploy:\n\n1. Create test branch with minor ansible change (e.g., comment in host_vars/k1.yaml)\n2. Push and merge to main\n3. Verify GitHub Actions workflow triggers\n4. Verify Semaphore task is created and runs\n5. Check ARA for playbook execution record\n6. Verify GitHub Actions job summary shows Semaphore and ARA links\n7. Test workflow_dispatch manual trigger with hosts=\"all\"\n8. Test workflow_dispatch with specific hosts and tags","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-03T18:28:33.126247-05:00","created_by":"coneill","updated_at":"2026-01-04T00:56:05.279979-05:00","dependencies":[{"issue_id":"infra-oty.4","depends_on_id":"infra-oty","type":"parent-child","created_at":"2026-01-03T18:28:33.137812-05:00","created_by":"coneill"},{"issue_id":"infra-oty.4","depends_on_id":"infra-oty.3","type":"blocks","created_at":"2026-01-03T18:28:33.139202-05:00","created_by":"coneill"},{"issue_id":"infra-oty.4","depends_on_id":"infra-25p","type":"blocks","created_at":"2026-01-03T19:19:04.793326-05:00","created_by":"coneill"},{"issue_id":"infra-oty.4","depends_on_id":"infra-ziy","type":"blocks","created_at":"2026-01-04T01:04:54.556956-05:00","created_by":"coneill"}]}
{"id":"infra-ziy","title":"Add ARA environment variables to Semaphore","description":"Add ARA_API_SERVER, ARA_API_USERNAME, ARA_API_PASSWORD to Semaphore environment in opentofu/modules/semaphore/main.tf. Required for ARA callback plugin to report playbook URLs.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T01:04:41.984767-05:00","created_by":"coneill","updated_at":"2026-01-04T01:04:54.01673-05:00"}
