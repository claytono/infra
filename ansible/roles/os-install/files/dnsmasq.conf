# PXE boot server - DHCP proxy mode
port=0
enable-tftp
tftp-root=/tftpboot
dhcp-range=172.19.74.0,proxy,255.255.255.0

# Bind only to eth0 to avoid dual-interface issues
interface=eth0
bind-interfaces

# For legacy PXE clients: serve iPXE bootloader via TFTP, which then chainloads to HTTP
# For iPXE clients: serve boot script directly via HTTP
dhcp-match=set:ipxe,175

# Use pxe-service for proxy mode (required for built-in iPXE clients)
# x86 PC BIOS (type 0) - iPXE clients get HTTP boot URL, others get TFTP chainloader
pxe-service=tag:ipxe,x86PC,"Network Boot",http://infrapi.oneill.net:8081/boot.ipxe
pxe-service=tag:!ipxe,x86PC,"Network Boot",undionly.kpxe

log-dhcp
