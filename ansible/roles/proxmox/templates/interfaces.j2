# Network interface settings; autogenerated
# PVE will preserve source directives, but will NOT read its network
# configuration from sourced files.

auto lo
iface lo inet loopback

{% for interface in proxmox_interfaces %}
iface {{ interface.name }} inet {{ interface.type }}
{% if interface.comment is defined %}	# {{ interface.comment }}
{% endif %}

{% endfor %}
{% for bridge in proxmox_bridges %}
auto {{ bridge.name }}
iface {{ bridge.name }} inet static
{% if bridge.address is defined %}	address {{ bridge.address }}
{% endif %}
{% if bridge.gateway is defined %}	gateway {{ bridge.gateway }}
{% endif %}
	bridge-ports {{ bridge.bridge_ports }}
	bridge-stp {{ bridge.bridge_stp }}
	bridge-fd {{ bridge.bridge_fd }}
{% if bridge.comment is defined %}	# {{ bridge.comment }}
{% endif %}

{% endfor %}
source /etc/network/interfaces.d/*
