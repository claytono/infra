---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: acme-sh

commonAnnotations:
  argoManaged: 'true'

resources:
- namespace.yaml
- pvc.yaml
- externalsecret.yaml
- cronjob-synology.yaml
- cronjob-udmp.yaml
- cronjob-renew.yaml

configMapGenerator:
- name: acme-sh-script
  files:
  - acme-synology.sh
  - acme-udmp.sh
  - acme-renew.sh
  options:
    disableNameSuffixHash: true
- name: acme-sh-ssh-config
  files:
  - ssh-config
  options:
    disableNameSuffixHash: true

images:
- name: neilpang/acme.sh
  newTag: 3.1.2@sha256:3c6b40e30e2c0c79863ba6ef5545d93350a040371213058099066ccd85b46aad
