---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: acme-sh

commonAnnotations:
  argoManaged: 'true'

resources:
- namespace.yaml
- pvc.yaml
- externalsecret.yaml
- cronjob-synology.yaml
- cronjob-udmp.yaml
- cronjob-renew.yaml

configMapGenerator:
- name: acme-sh-script
  files:
  - acme-synology.sh
  - acme-udmp.sh
  - acme-renew.sh
  options:
    disableNameSuffixHash: true
- name: acme-sh-ssh-config
  files:
  - ssh-config
  options:
    disableNameSuffixHash: true

images:
- name: neilpang/acme.sh
  newTag: 3.1.0@sha256:219ea1d5d6f2142ccec9b1f07b9af76dd5a0f7ae47d2a1b3ae6e96b3d56fc1f8
