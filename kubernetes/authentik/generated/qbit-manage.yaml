---
version: 1

metadata:
  name: qbit-manage-config

entries:
- identifiers:  # qbit-manage Proxy Provider
    name: qbit-manage
  id: qbit-manage_provider
  model: authentik_providers_proxy.proxyprovider
  state: present
  attrs:
    name: qbit-manage
    mode: forward_domain
    external_host: https://qbit-manage.k.oneill.net
    internal_host: http://qbit-manage.default.svc.cluster.local:8080
    intercept_header_auth: true
    cookie_domain: oneill.net
    authorization_flow: !Find
    - authentik_flows.flow
    - [slug, default-provider-authorization-implicit-consent]
    invalidation_flow: !Find
    - authentik_flows.flow
    - [slug, default-provider-invalidation-flow]
- identifiers:  # qbit-manage Application
    slug: qbit-manage
  id: qbit-manage_app
  model: authentik_core.application
  state: present
  attrs:
    name: qbit-manage
    provider: !KeyOf qbit-manage_provider
