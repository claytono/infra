---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: default

commonAnnotations:
  argoManaged: 'true'

resources:
- deploy.yaml
- service.yaml
- ingress.yaml
- externalsecret.yaml

configMapGenerator:
- name: autobrr-config
  literals:
  - AUTOBRR__OIDC_ENABLED=true
  - AUTOBRR__OIDC_DISABLE_BUILT_IN_LOGIN=false
  - AUTOBRR__OIDC_ISSUER=https://auth.k.oneill.net/application/o/autobrr/
  - AUTOBRR__OIDC_REDIRECT_URL=https://autobrr.k.oneill.net/api/auth/oidc/callback

images:
- name: ghcr.io/autobrr/autobrr
  newTag: v1.66.1@sha256:bf25c5c66cb1b8aa60b83932a1b59d2eb88c45edfeb8714e58e4bd1abeee01d1

labels:

- pairs:
    app.kubernetes.io/name: autobrr
    app.kubernetes.io/instance: autobrr
  includeSelectors: true
