---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: default

commonAnnotations:
  argoManaged: 'true'

resources:
- deploy.yaml
- service.yaml
- ingress.yaml
- externalsecret.yaml
- pvc-config.yaml

configMapGenerator:
- name: autobrr-config
  literals:
  - AUTOBRR__OIDC_ENABLED=true
  - AUTOBRR__OIDC_DISABLE_BUILT_IN_LOGIN=false
  - AUTOBRR__OIDC_ISSUER=https://auth.k.oneill.net/application/o/autobrr/
  - AUTOBRR__OIDC_REDIRECT_URL=https://autobrr.k.oneill.net/api/auth/oidc/callback

images:
- name: ghcr.io/autobrr/autobrr
  newTag: v1.68.0@sha256:0d61a307f3569853fe876dd8a4baf3a3065ff4cde342d13e33aa108db6129f3f

labels:

- pairs:
    app.kubernetes.io/name: autobrr
    app.kubernetes.io/instance: autobrr
  includeSelectors: true
