---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: default

commonAnnotations:
  argoManaged: 'true'

resources:
- deployment.yaml
- service.yaml
- ingress.yaml
- externalsecret.yaml

configMapGenerator:
- name: autobrr-config
  literals:
  - AUTOBRR__OIDC_ENABLED=true
  - AUTOBRR__OIDC_DISABLE_BUILT_IN_LOGIN=false
  - AUTOBRR__OIDC_ISSUER=https://auth.k.oneill.net/application/o/autobrr/
  - AUTOBRR__OIDC_REDIRECT_URL=https://autobrr.k.oneill.net/api/auth/oidc/callback

images:
- name: ghcr.io/autobrr/autobrr
  newTag: v1.66.0@sha256:aaaf582d3d7640e4f01a4d058eb100615a4c8cbc836c7e9c13e223afa54e9b62

labels:

- pairs:
    app.kubernetes.io/name: autobrr
    app.kubernetes.io/instance: autobrr
  includeSelectors: true
