---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: default

commonAnnotations:
  argoManaged: 'true'

resources:
- deployment.yaml
- service.yaml
- ingress.yaml
- externalsecret.yaml

configMapGenerator:
- name: autobrr-config
  literals:
  - AUTOBRR__OIDC_ENABLED=true
  - AUTOBRR__OIDC_DISABLE_BUILT_IN_LOGIN=false
  - AUTOBRR__OIDC_ISSUER=https://auth.k.oneill.net/application/o/autobrr/
  - AUTOBRR__OIDC_REDIRECT_URL=https://autobrr.k.oneill.net/api/auth/oidc/callback

images:
- name: ghcr.io/autobrr/autobrr
  newTag: v1.65.0@sha256:494e821e7a9c9a1279d1541522a65ed06b03d0b66563e827e3d29b9a63e61ddc

labels:

- pairs:
    app.kubernetes.io/name: autobrr
    app.kubernetes.io/instance: autobrr
  includeSelectors: true
