---
csiDriver:
  name: org.democratic-csi.synology-iscsi

driver:
  existingConfigSecret: democratic-csi-driver-config
  config:
    driver: synology-iscsi

# Pin image versions for reproducibility and safe rollbacks
controller:
  driver:
    image:
      registry: docker.io/democraticcsi/democratic-csi
      tag: v1.9.0

node:
  driver:
    image:
      registry: docker.io/democraticcsi/democratic-csi
      tag: v1.9.0
  # Enable automatic filesystem checks on mount to handle unclean shutdowns
  # from network-induced iSCSI disconnects
  mount:
    checkFilesystem:
      ext4:
        enabled: true

storageClasses:
- name: synology-iscsi
  reclaimPolicy: Delete
  allowVolumeExpansion: true
  parameters:
    fsType: ext4
  mountOptions:
  - discard

volumeSnapshotClasses:
- name: synology-iscsi-snapshots
