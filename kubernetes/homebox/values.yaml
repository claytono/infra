---
# HomeBox configuration
# Only override non-default settings

global:
  defaultStorageClass: nfs

env:
  TZ: America/New_York
  HBOX_OPTIONS_ALLOW_REGISTRATION: true
  HBOX_WEB_MAX_UPLOAD_SIZE: 250
  HBOX_DATABASE_DRIVER: postgres

# Pod configuration
podAnnotations:
  reloader.stakater.com/auto: 'true'

# Ingress configuration
ingress:
  enabled: true
  className: nginx
  annotations:
    cert-manager.io/cluster-issuer: letsencrypt
    nginx.ingress.kubernetes.io/proxy-body-size: 500m
    gethomepage.dev/enabled: 'true'
    gethomepage.dev/name: HomeBox
    gethomepage.dev/description: Inventory and Organization System
    gethomepage.dev/group: Home Lab
    gethomepage.dev/icon: homebox.png
  hosts:
  - host: homebox.k.oneill.net
    paths:
    - path: /
      pathType: Prefix
  tls:
  - secretName: homebox-tls
    hosts:
    - homebox.k.oneill.net

# PostgreSQL configuration - disabled since using CloudNativePG
postgresql:
  enabled: false

# External PostgreSQL configuration for CloudNativePG
externalPostgresql:
  enabled: true
  host: homebox-postgres-rw
  port: 5432
  auth:
    username: homebox
    password: dummy-will-be-overridden
    database: homebox
