---
apiVersion: external-secrets.io/v1
kind: ExternalSecret

metadata:
  name: karakeep
  namespace: karakeep

spec:
  secretStoreRef:
    name: production
    kind: ClusterSecretStore
  target:
    name: karakeep
    creationPolicy: Owner
  data:
  - secretKey: NEXTAUTH_SECRET
    remoteRef:
      key: karakeep
      property: nextauth_secret
  - secretKey: OPENAI_API_KEY
    remoteRef:
      key: karakeep-openai-api-key
  - secretKey: PROMETHEUS_AUTH_TOKEN
    remoteRef:
      key: karakeep
      property: prometheus_auth_token

---
apiVersion: external-secrets.io/v1
kind: ExternalSecret

metadata:
  name: karakeep-meilisearch
  namespace: karakeep

spec:
  secretStoreRef:
    name: production
    kind: ClusterSecretStore
  target:
    name: karakeep-meilisearch
    creationPolicy: Owner
  data:
  - secretKey: MEILI_MASTER_KEY
    remoteRef:
      key: karakeep
      property: meilisearch_master_key
