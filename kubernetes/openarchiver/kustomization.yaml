---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: openarchiver

resources:
- namespace.yaml
- postgres-cluster.yaml
- password-generators.yaml
- externalsecret.yaml
- configmap.yaml
- pvc.yaml
- valkey-service.yaml
- valkey-statefulset.yaml
- meilisearch-service.yaml
- meilisearch-statefulset.yaml
- service.yaml
- deploy.yaml
- ingress.yaml

images:
- name: logiclabshq/open-archiver
  newName: docker.io/logiclabshq/open-archiver
  newTag: v0.4.0@sha256:8b580260ae82d9f4656912a8d7dd57fbdaaca7b993c82a42f7f0514d8908597b
- name: valkey/valkey
  newName: docker.io/valkey/valkey
  newTag: 9.0.0-alpine3.22@sha256:bef37d06d4856710973ee31dd1eac1482e4c8e6e7b847f999ad25433e646587b
- name: getmeili/meilisearch
  newName: docker.io/getmeili/meilisearch
  newTag: v1.21.0@sha256:38e0ae3cfd2f319461f321c79a1d9320143a2258ee0e2f567bc9441d79dcff5f

commonAnnotations:
  argoManaged: 'true'
