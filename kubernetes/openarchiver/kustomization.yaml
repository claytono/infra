---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: openarchiver

resources:
- namespace.yaml
- postgres-cluster.yaml
- password-generators.yaml
- externalsecret.yaml
- configmap.yaml
- pvc.yaml
- valkey-service.yaml
- valkey-statefulset.yaml
- meilisearch-service.yaml
- meilisearch-statefulset.yaml
- service.yaml
- deployment.yaml
- ingress.yaml

images:
- name: logiclabshq/open-archiver
  newName: docker.io/logiclabshq/open-archiver
  newTag: v0.3.3
  digest: sha256:d68bf0393bd39dad5df9ae6d52cedbcfd48cc989238c467b26bae72729866b35
- name: valkey/valkey
  newName: docker.io/valkey/valkey
  newTag: 8.1.3-alpine3.22
  digest: sha256:d827e7f7552cdee40cc7482dbae9da020f42bc47669af6f71182a4ef76a22773
- name: getmeili/meilisearch
  newName: docker.io/getmeili/meilisearch
  newTag: v1.21.0
  digest: sha256:38e0ae3cfd2f319461f321c79a1d9320143a2258ee0e2f567bc9441d79dcff5f

commonAnnotations:
  argoManaged: 'true'
