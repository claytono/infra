---
apiVersion: external-secrets.io/v1
kind: ExternalSecret
metadata:
  name: semaphore-encryption-keys
  namespace: semaphore
spec:
  refreshInterval: 1h
  secretStoreRef:
    kind: ClusterSecretStore
    name: production

  target:
    name: semaphore-encryption
    creationPolicy: Owner

  data:
    - secretKey: cookieHash
      remoteRef:
        key: semaphore
        property: cookieHash
    - secretKey: cookieEncryption
      remoteRef:
        key: semaphore
        property: cookieEncryption
    - secretKey: accesskeyEncryption
      remoteRef:
        key: semaphore
        property: accesskeyEncryption
