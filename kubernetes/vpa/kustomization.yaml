---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: vpa

resources:
- namespace.yaml
- helm/crds/vpa-v1-crd.yaml
- helm/templates/clusterrolebindings.yaml
- helm/templates/clusterroles.yaml
- helm/templates/recommender-deployment.yaml
- helm/templates/recommender-service-account.yaml
- helm/templates/admission-controller-deployment.yaml
- helm/templates/admission-controller-service-account.yaml
- helm/templates/admission-controller-service.yaml
- helm/templates/admission-controller-rbac.yaml
- helm/templates/webhooks/mutating.yaml
- helm/templates/updater-deployment.yaml
- helm/templates/updater-service-account.yaml
- webhook-certificate.yaml
- rbac-maintenance.yaml
- cronjob-enable.yaml
- cronjob-disable.yaml

commonAnnotations:
  argoManaged: 'true'

labels:
- pairs:
    app: vpa

configMapGenerator:
- name: vpa-maintenance-scripts
  files:
  - toggle-updater
  options:
    disableNameSuffixHash: true
